<main class="ba_main">
  <div class="before_after">
    <div class="image-container">
      <div class="image-before">
        <img
          class="slider-image"
          src="//www.masterholder.com.mx/cdn/shop/files/mh-4en1-anticaida-negro-16-negro-269826.jpg?v=1737213793&width=600"
          alt="Before Image"
        >
        <span class="before_badge ba_badge">Antes</span>
      </div>
      <div class="image-after">
        <img
          class="slider-image"
          src="//www.masterholder.com.mx/cdn/shop/files/mh-4en1-anticaida-negro-16-negro-453841.jpg?v=1737213793&width=600"
          alt="After Image"
        >
        <span class="after_badge ba_badge">Despu√©s</span>
      </div>
    </div>
    <input
      type="range"
      min="0"
      max="100"
      value="50"
      aria-label="Porcentaje de comparaci√≥n"
      class="ba-slider"
    >
    <div class="slider-line"></div>
    <div class="slider-button">
      <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="#fff" viewBox="0 0 256 256">
        <rect width="256" height="256" fill="none"></rect>
        <line x1="128" y1="40" x2="128" y2="216" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
        <line x1="96" y1="128" x2="16" y2="128" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
        <polyline points="48 160 16 128 48 96" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline>
        <line x1="160" y1="128" x2="240" y2="128" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
        <polyline points="208 96 240 128 208 160" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline>
      </svg>
    </div>
  </div>
</main>


<style>
  
  /* Contenedor principal */
.before_after {
    position: relative;
    width: 100%;
    height: 100vh; /* Altura total de la pantalla */
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* Contenedor de im√°genes */
.image-container {
    position: relative;
    width: 100%;
    height: 100%;
    max-width: 1200px; /* L√≠mite opcional */
    overflow: hidden;
}

/* Ajustamos la imagen AFTER */
.image-after {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1; /* Imagen de fondo */
}

/* Ajustamos la imagen BEFORE con recorte */
.image-before {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 2; /* Imagen en primer plano */
    clip-path: inset(0 calc(100% - var(--position)) 0 0); /* Se recorta seg√∫n el slider */
}

/* Barra deslizante oculta pero funcional */
.ba-slider {
    position: absolute;
    inset: 0;
    cursor: pointer;
    opacity: 0;
    width: 100%;
    height: 100%;
    z-index: 3;
}

/* L√≠nea central del slider */
.slider-line {
    position: absolute;
    width: 2px;
    height: 100%;
    background-color: white;
    left: var(--position);
    transform: translateX(-50%);
    pointer-events: none;
    z-index: 4;
}

/* Bot√≥n del slider */
.slider-button {
    position: absolute;
    background-color: rgba(255, 255, 255, 0.7);
    color: black;
    padding: 10px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    top: 50%;
    left: var(--position);
    transform: translate(-50%, -50%);
    pointer-events: none;
    width: 20px;
    height: 40px;
    z-index: 5;
}

/* Estilos responsive */
@media only screen and (max-width: 768px) {
    .before_after {
        height: auto;
        min-height: 400px;
    }
}

</style>

<script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const container = document.querySelector(".before_after");
    const slider = document.querySelector(".ba-slider");
    const beforeImage = document.querySelector(".image-before");
    const sliderLine = document.querySelector(".slider-line");
    const sliderButton = document.querySelector(".slider-button");

    if (!container || !slider || !beforeImage) {
        console.error("‚ùå No se encontraron los elementos necesarios para el slider.");
        return;
    }

    console.log("‚úÖ Slider antes/despu√©s cargado correctamente.");

    // Evento para actualizar el slider en tiempo real
    slider.addEventListener("input", function (e) {
        const position = `${e.target.value}%`;
        container.style.setProperty("--position", position);
        sliderLine.style.left = position;
        sliderButton.style.left = position;
        console.log(`üìå Nueva posici√≥n del slider: ${position}`);
    });
});
</script>

</script>